<h1>User Roles and Permissions</h1>
<form (ngSubmit)="addUser()">
  <label for="username">Username:</label>
  <input type="text" id="username" required [(ngModel)]="username">

  <label for="role">Role:</label>
  <select id="role" [(ngModel)]="role" (change)="togglePermissions()">
    <option value="guest">Guest</option>
    <option value="user">User</option>
    <option value="admin">Admin</option>
  </select>

  <div id="permissionsContainer" *ngIf="role === 'admin'">
    <label>Permissions:</label>
    <label>
      <input type="checkbox" name="permission" [(ngModel)]="permissions.create"> Create
    </label>
    <label>
      <input type="checkbox" name="permission" [(ngModel)]="permissions.read"> Read
    </label>
    <label>
      <input type="checkbox" name="permission" [(ngModel)]="permissions.update"> Update
    </label>
    <label>
      <input type="checkbox" name="permission" [(ngModel)]="permissions.delete"> Delete
    </label>
  </div>

  <button type="submit">Add User</button>
</form>

<div id="message" [ngClass]="{'success': successMessage, 'error': errorMessage}">
  {{ successMessage || errorMessage }}
</div>
